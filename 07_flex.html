<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flex</title>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .box {
            overflow: hidden;
            width: 1000px;
        }

        .left {
            float: left;
            width: 500px;
            height: 100vh;
        }

        .right {
            float: right;
            background: seashell;
            width: 500px;
            height: 100vh;
        }

        .flexBox {
            display: flex;
            width: 300px;
            height: 200px;
            margin: 100px;
            background: #eee;
        }

        .doc {
            background: lavenderblush;
            padding: 30px 20px;
            height: 100vh;
            overflow: auto;
        }

        .doc h1 {
            text-align: center;
            margin-bottom: 10px;
        }

        .b {
            margin: 5px;
            width: 70px;
            text-align: center;
            vertical-align: middle;
        }

        .b:before {
            content: '';
            height: 100%;
            display: inline-block;
            vertical-align: middle;
        }

        .b1{
            line-height: 50px;
            background: lavenderblush;
            font-size: 14px;
        }
        .b2{
            line-height: 75px;
            background: lavender;
            font-size: 17px;
        }
        .b3{
            line-height: 100px;
            background: lightcyan;
            font-size: 20px;
        }
        .b4{
            line-height: 75px;
            background: lemonchiffon;
            font-size: 17px;
        }
        .b5{
            line-height: 50px;
            background: honeydew;
            font-size: 14px;
        }



        .p {
            margin: 10px 20px;
        }

        .p .title {
            font-size: 16px;
            line-height: 30px;
            font-weight: bold;
        }

        .p input[type="radio"] {
            margin-right: 5px;
        }

        .p input[type="text"] {
            width: 50px;
        }

        .p label {
            margin-right: 10px;
        }

    </style>
</head>
<body>

<!--
    justify-content: items对齐于主轴
    align-content: items对齐于交叉轴（只作用多行），可理解为每行内容与交叉轴的对齐方式，可用align-items单独调整单行的对齐方式
    align-items: 和align-content一样，区别是只作用单行
-->

<div class="box">
    <div class="left">
        <div id="flexBox" class="flexBox">
            <div class="b b1">b1</div>
            <div class="b b2">b2</div>
            <div class="b b3">b3</div>
            <div class="b b4">b4</div>
            <div class="b b5">b5</div>
        </div>

        <div class="doc">
            <h1>说明文档</h1>
            <p id="doc">hover右边对应项可查看相应文档</p>
        </div>
    </div>

    <div class="right">
        <div id="jc" class="p" data-doc="justify-content: items对齐于主轴，即x轴">
            <div class="title">justify-content：</div>
            <label><input type="radio" value="flex-start" checked/>flex-start</label>
            <label><input type="radio" value="flex-end"/>flex-end</label>
            <label><input type="radio" value="center"/>center</label>
            <label><input type="radio" value="baseline"/>baseline</label>
            <label><input type="radio" value="space-between"/>space-between</label>
            <label><input type="radio" value="space-around"/>space-around</label>
            <label><input type="radio" value="space-evenly"/>space-evenly</label>
            <label><input type="radio" value="stretch"/>stretch</label>
        </div>

        <div id="ac" class="p" data-doc="align-content: items对齐于交叉轴，即y轴（只作用多行），可理解为每行内容与交叉轴的对齐方式，可用align-items单独调整单行的对齐方式">
            <div class="title">align-content：</div>
            <label><input type="radio" value="flex-start"/>flex-start</label>
            <label><input type="radio" value="flex-end"/>flex-end</label>
            <label><input type="radio" value="center"/>center</label>
            <label><input type="radio" value="baseline"/>baseline</label>
            <label><input type="radio" value="space-between"/>space-between</label>
            <label><input type="radio" value="space-around"/>space-around</label>
            <label><input type="radio" value="space-evenly"/>space-evenly</label>
            <label><input type="radio" value="stretch" checked/>stretch</label>
        </div>

        <div id="ai" class="p" data-doc="和align-content一样，区别是只作用单行">
            <div class="title">align-items：</div>
            <label><input type="radio" value="flex-start"/>flex-start</label>
            <label><input type="radio" value="flex-end"/>flex-end</label>
            <label><input type="radio" value="center"/>center</label>
            <label><input type="radio" value="self-start"/>self-start</label>
            <label><input type="radio" value="self-end"/>self-end</label>
            <label><input type="radio" value="baseline"/>baseline</label>
            <label><input type="radio" value="stretch" checked/>stretch</label>
        </div>

        <div id="fd" class="p"  data-doc="flex-direction 属性指定了内部元素是如何在 flex 容器中布局的，定义了主轴的方向(正方向或反方向)。\\n abc">
            <div class="title">flex-direction：</div>
            <label><input type="radio" value="row" checked/>row</label>
            <label><input type="radio" value="row-reverse"/>row-reverse</label>
            <label><input type="radio" value="column"/>column</label>
            <label><input type="radio" value="column-reverse"/>column-reverse</label>
        </div>

        <div id="fw" class="p"  data-doc="fw">
            <div class="title">flex-wrap：</div>
            <label><input type="radio" value="nowrap" checked/>nowrap</label>
            <label><input type="radio" value="wrap"/>wrap</label>
            <label><input type="radio" value="wrap-reverse"/>wrap-reverse</label>
        </div>

        <div id="order" class="p"  data-doc="order">
            <div class="title">order：</div>
            <label>
                b1:<input type="text"/>
            </label>
            <label>
                b2:<input type="text"/>
            </label>
            <label>
                b3:<input type="text"/>
            </label>
            <label>
                b4:<input type="text"/>
            </label>
            <label>
                b5:<input type="text"/>
            </label>
        </div>


        <div id="flex" class="p" data-doc="flex">
            <div class="title">flex：</div>
            <label>
                b1:<input type="text"/>
            </label>
            <label>
                b2:<input type="text"/>
            </label>
            <label>
                b3:<input type="text"/>
            </label>
            <label>
                b4:<input type="text"/>
            </label>
            <label>
                b5:<input type="text"/>
            </label>
        </div>

        <div id="flex-grow" class="p" data-doc="flex-grow 属性定义弹性盒子项（flex item）的拉伸因子">
            <div class="title">flex-grow：</div>
            <label>
                b1:<input type="text"/>
            </label>
            <label>
                b2:<input type="text"/>
            </label>
            <label>
                b3:<input type="text"/>
            </label>
            <label>
                b4:<input type="text"/>
            </label>
            <label>
                b5:<input type="text"/>
            </label>
        </div>

        <div id="flex-shrink" class="p" data-doc="flex-shrink 属性指定了 flex 元素的收缩规则。flex 元素仅在默认宽度之和大于容器的时候才会发生收缩，其收缩的大小是依据 flex-shrink 的值。负值是不被允许的。">
            <div class="title">flex-shrink：</div>
            <label>
                b1:<input type="text"/>
            </label>
            <label>
                b2:<input type="text"/>
            </label>
            <label>
                b3:<input type="text"/>
            </label>
            <label>
                b4:<input type="text"/>
            </label>
            <label>
                b5:<input type="text"/>
            </label>
        </div>

        <div id="flex-basis" class="p" data-doc="">
            <div class="title">flex-basis：</div>
            <label>
                b1:<input type="text"/>
            </label>
            <label>
                b2:<input type="text"/>
            </label>
            <label>
                b3:<input type="text"/>
            </label>
            <label>
                b4:<input type="text"/>
            </label>
            <label>
                b5:<input type="text"/>
            </label>
        </div>

        <!--<div id="submit" class="btn">确定</div>-->
    </div>
</div>

<script>

    window.onload = function() {

        update();
        onClickJC();
        onClickAC();
        onClickAI();
        onClickFD();
        onClickFW();
        onChangeOrder();
        onChangeFlex();
        onChangeFlexGrow();
        onChangeFlexShrink();
        onChangeFlexBasis();
        onHover();
    }

    function update() {
        var jc = document.querySelector('#jc');
        var ac = document.querySelector('#ac');
        var ai = document.querySelector('#ai');
        var fd = document.querySelector('#fd');
        var fw = document.querySelector('#fw');

        var jcActiveItem = getActiveItem(jc);
        var acActiveItem = getActiveItem(ac);
        var aiActiveItem = getActiveItem(ai);
        var fdActiveItem = getActiveItem(fd);
        var fwActiveItem = getActiveItem(fw);

        setFlexBoxValue({
            jc: jcActiveItem && jcActiveItem.value,
            ac: acActiveItem && acActiveItem.value,
            ai: aiActiveItem && aiActiveItem.value,
            fd: fdActiveItem && fdActiveItem.value,
            fw: fwActiveItem && fwActiveItem.value
        });
    }

    function onClickJC() {
        var jc = document.querySelector('#jc');
        toggle(jc);
    }
    function onClickAC() {
        var ac = document.querySelector('#ac');
        toggle(ac);
    }
    function onClickAI() {
        var ai = document.querySelector('#ai');
        toggle(ai);
    }
    function onClickFD() {
        var fd = document.querySelector('#fd');
        toggle(fd);
    }
    function onClickFW() {
        var fw = document.querySelector('#fw');
        toggle(fw);
    }

    function onChangeOrder() {
        var order = document.querySelector('#order');
        change(order, 'order');
    }

    function onChangeFlex() {
        var flex = document.querySelector('#flex');
        change(flex, 'flex');
    }

    function onChangeFlexGrow() {
        var flexGrow = document.querySelector('#flex-grow');
        change(flexGrow, 'flex-grow');
    }

    function onChangeFlexShrink() {
        var flexShrink = document.querySelector('#flex-shrink');
        change(flexShrink, 'flex-shrink');
    }

    function onChangeFlexBasis() {
        var flexBasis = document.querySelector('#flex-basis');
        change(flexBasis, 'flex-basis');
    }

    function onHover() {

        var jc = document.querySelector('#jc');
        var ac = document.querySelector('#ac');
        var ai = document.querySelector('#ai');
        var fd = document.querySelector('#fd');
        var fw = document.querySelector('#fw');
        var order = document.querySelector('#order');
        var flex = document.querySelector('#flex');
        var flexGrow = document.querySelector('#flex-grow');
        var flexShrink = document.querySelector('#flex-shrink');
        var flexBasis = document.querySelector('#flex-basis');


        showDoc(jc);
        showDoc(ac);
        showDoc(ai);
        showDoc(fd);
        showDoc(fw);
        showDoc(order);
        showDoc(flex);
        showDoc(flexGrow);
        showDoc(flexShrink);
        showDoc(flexBasis);

    }

    function showDoc(obj) {
        var doc = document.querySelector('#doc');

        obj.onmouseover = function() {
            var text = this.getAttribute('data-doc');
            doc.innerHTML = text;
        }
    }

    function change(obj, attrName) {
        var flexBox = document.querySelector('#flexBox');
        var items = flexBox.querySelectorAll('.b');
        items = [].slice.call(items);
        console.log('items', items);

        obj.addEventListener('change', function(e) {
            var res = getInputGroupValues(obj);

            items.map(function(item, i) {
                items[i].style[attrName] = res[i];
            })
        })
    }

    function getInputGroupValues(obj) {
        var inputGroup = obj.querySelectorAll('input');
        inputGroup = [].slice.call(inputGroup);
        var res = [];

        inputGroup.map(function(item, i) {
            var val = item.value;
            val ? res.push(val) : res.push(null);
        });

        return res;
    }


    function setFlexBoxValue(args) {
        var flexBox = document.querySelector('#flexBox');

        flexBox.style.justifyContent = args.jc;
        flexBox.style.alignContent = args.ac;
        flexBox.style.alignItems = args.ai;
        flexBox.style.flexDirection = args.fd;
        flexBox.style.flexWrap = args.fw;
    }

    function toggle(obj) {

        obj.addEventListener('click', function(e) {
            var radioGroup = obj.querySelectorAll('input');
            radioGroup = [].slice.call(radioGroup);

            if (e.target&&e.target.nodeName.toUpperCase()=="INPUT") {

                radioGroup.map(function(item, i) {
                    item.checked = false;
                });

                e.target.checked = true;
            }

            update();
        })
    }

    function getActiveItem(obj) {
        var radioGroup = obj.querySelectorAll('input');
        radioGroup = [].slice.call(radioGroup);

        var i,
            len = radioGroup.length,
            val = null;

        for (i=0; i<len; i++) {
            if (radioGroup[i].checked == true) {
                val = radioGroup[i];
                break;
            }
        }

        return val;
    }
</script>

</body>
</html>